<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>
    处理器内存指令 | Hexo
  </title>
  <meta name="description" content="">
  
  <meta name="keywords" content="
  操作系统,汇编语言
  ">
  
  <meta name="author" content="John Doe">

  <meta http-equiv="Cache-Control" content="no-transform"/>
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="theme-color" content="#1e2327">
  <link rel="apple-touch-icon" href="https://github.githubassets.com/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://github.githubassets.com/apple-touch-icon-180x180.png">

  <link rel="icon" type="image/x-icon" href="https://github.githubassets.com/favicon.ico">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  

  

  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/1.0.25-csp/vue.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body id="replica-app">

<nav class="navbar-wrapper">
  <div class="navbar">
    <div class="container clearfix">
      <a href="/" class="navbar-logo"><i class="fa fa-github"></i></a>

      <div class="navbar-search float-left desktop-only">
        <div class="navbar-search-form">
          <label for="gsc-i-id1">This website</label>
          <div id="google-search">
            <gcse:search></gcse:search>
          </div>
        </div>
      </div>

      <ul class="navbar-nav float-left">
        
        <li><a href="/">Archives</a></li>
        
        
        <li><a href="/">Categories</a></li>
        
        
        <li><a href="/">Tags</a></li>
        
        
        <li class="desktop-only"><a href="/atom.xml" target="_blank">RSS</a></li>
        
      </ul>

      <ul class="navbar-nav user-nav float-right desktop-only">
        <li class="user-nav-notification">
          <a><span class="user-nav-unread"></span><i class="fa fa-bell"></i></a>
        </li>
        <li>
          <a><i class="fa fa-plus"></i> <i class="fa fa-caret-down"></i></a>
        </li>
        <li class="user-nav-logo">
          <a><img src="https://octodex.github.com/images/baracktocat.jpg"> <i class="fa fa-caret-down"></i></i></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="main-container">
  <header class="header-wrapper desktop-only">
  <div class="container header-site-detail">
    <ul class="header-toolbar">
      <li class="clearfix">
        <a href="/" class="header-toolbar-left"><i
                  class="fa fa-file-text"></i> Posts </a>
        <a href="/"
           class="header-toolbar-right"> 4 </a>
      </li>
      <li>
        <a href="/" class="header-toolbar-left"><i
                  class="fa fa-tags"></i> Tags </a>
        <a href="/"
           class="header-toolbar-right"> 2 </a>
      </li>
      <li>
        <a href="/" class="header-toolbar-left"><i
                  class="fa fa-folder-open"></i> Categories </a>
        <a href="/"
           class="header-toolbar-right"> 0 </a>
      </li>
    </ul>
    <h2 class="header-title">
      <i class="fa fa-book text-muted"></i>
      <a href="/">Hexo</a>
      
      
    </h2>
  </div>

  <div class="container">
    <div class="header-tab-wrapper clearfix">
      <span class="header-tab header-tab-selected"><i class="fa fa-thumbs-o-up"></i> Like</span>
      <span class="header-tab"><i class="fa fa-share-alt"></i> Share</span>
      <span class="header-tab"><i class="fa fa-comments-o"></i> Discussion</span>
      <span class="header-tab"><i class="fa fa-bookmark-o"></i> Bookmark </span>
      <span class="header-tab"><i class="fa fa-smile-o"></i> Smile <i class="fa fa-caret-down"></i></span>
    </div>
  </div>
</header>


<div class="post-container container">
  <h3>
    <i class="fa fa-user-o"></i>
    John Doe

    <span class="post-date float-right" title="{{moment(1615205530000).format('MMM DD, YYYY, h:mm:ss A')}}">
      
          <i class="fa fa-pencil-square-o"></i>
      
      {{moment(1615205530000).fromNow()}}
    </span>
  </h3>

  <article class="post-content">
    <h1>处理器内存指令</h1>
    <h4 id="0x00-寄存器和算术逻辑"><a href="#0x00-寄存器和算术逻辑" class="headerlink" title="0x00 寄存器和算术逻辑"></a>0x00 寄存器和算术逻辑</h4><p>&emsp; cpu-集成电路处理器，有引脚，寄存器，算术逻辑部件,控制器</p>
<ul>
<li>引脚: 用来将参与运算的数字送入到处理器内部</li>
<li>寄存器: 寄存器也是一个电路，但是这个电路是双向的， 一部分将接受进来的电路锁住，另外一边将数字传送给alu, 临时存储</li>
<li>算术逻辑部件: 参与运算</li>
<li>控制器: 用来协调各个部件，哪个部件在哪个时间有权使用总线</li>
</ul>
<h4 id="0x01-内部存储器"><a href="#0x01-内部存储器" class="headerlink" title="0x01 内部存储器"></a>0x01 内部存储器</h4><p>&emsp;内存条， 计算机<code>内部</code>主要存储，一般和CPU链接。<br>&emsp;内存按找字节来组织，单次访问的最小单元<code>1byte</code><br>&emsp;内存中每个字节对应了一个地址, 第一个 字节0x000H, 第二个字节0x0001H,….<br>&emsp;处理器访问内存需要给出一个地址,一个操作(读还是写)，一个操作数(如果是写的话)</p>
<ul>
<li>在8位处理器里面有8位寄存器和算术逻辑部件</li>
<li>在16位处理器里面有16位寄存器和算术逻辑部件</li>
<li>在64位处理器里面有64位寄存器和算术逻辑部件<blockquote>
<p>CPU可以按照字节,字,双字,四字进行访问———–这里访问是单次访问（而不是一个字节一个字节的取）<br><code>例如给出字长是8，地址是0x0002H, 则CPU想要访问 0x0002H处的一个字节， 如果给出字长是16，地址是0x0002H,则CPU想要访问的数据是0x0002处的一个字，低八位在0x0002H里面，高八位在0x0003H里面</code></p>
</blockquote>
</li>
</ul>
<h4 id="0x02-指令"><a href="#0x02-指令" class="headerlink" title="0x02 指令"></a>0x02 指令</h4><p>&emsp; <code>指令</code> 用某些数字来指示处理器所进行的操作—–成为指令/机器指令(Instruction), 指令是放在在内存里面，CPU按顺序取出，并执行， <em>指令由操作码和操作数组成</em>, (也有小部分指令只有操作码)， 指令长度也不是固定，有的指令长，有的指令短。</p>
<p>&emsp;<code>立即数</code>–可以从指令中立即获得。</p>
<p>&emsp; 指令的操作码隐含了如何该执行指令的一些信息，例如 B8 5B 00, 处理器就知道这条指令长度为三个字节，以及下一条指令位于三个字节之后的位置。</p>
<ul>
<li><strong>低端存储</strong>： 高字节位于高地址部分，低字节位于低地址部分。</li>
<li><strong>高端存储</strong>: 高字节位于低地址部分，低字节位于高地址部分.</li>
</ul>
<blockquote>
<blockquote>
<p>intel典型的低端存储（小端存储)</p>
</blockquote>
</blockquote>
<p>&emsp;内存分区：由于CPU是按顺序取出指令来执行（无法区分是数据还是指令），因此指令和数据需要分开方，指令存放的区域叫代码区，数据存放的区域：数据区，</p>
<h4 id="0x03-8086处理器"><a href="#0x03-8086处理器" class="headerlink" title="0x03 8086处理器"></a>0x03 8086处理器</h4><h5 id="0x01-8086通用寄存器"><a href="#0x01-8086通用寄存器" class="headerlink" title="0x01 8086通用寄存器"></a>0x01 8086通用寄存器</h5><p>&emsp;8086处理器内部有8个16为通用寄存器, 分别是<code>ax bx cx dx si di bp sp</code>,由于这8个寄存器是16位，因此他们可以在CPU和内存之间进行16位的传输。前8个<code>ax bx cx dx</code>由分别可以拆分成2个八位寄存器<code>ah al bh bl ch cl dh dl</code></p>
<p>&emsp;代码段和数据段只上在逻辑上划分，—-本质上 CPU如何看待和组织内存中数据（内存中数据不变，只上看待角度不一样）</p>
<p>&emsp;分段机制： 程序的重定位问题</p>
<h5 id="0x02-内存分段机制"><a href="#0x02-内存分段机制" class="headerlink" title="0x02 内存分段机制"></a>0x02 内存分段机制</h5><p>&emsp;分段，将内存裁下小段，根据需要段可以在内存任何的位置——分段<br>&emsp;段地址： 分段开始的起始地址    偏移地址： 相对于段开始处的距离。 开始分段后可以采用<code>段地址:偏移地址</code>来访问内存。</p>
<p>&emsp;段机制需要硬件支持， CPU提供了两个寄存器</p>
<ul>
<li>代码寄存器(Code Segment/ CS)<blockquote>
<p>对cs的改变将会导致cpu从新的代码段开始执行</p>
</blockquote>
</li>
<li>数据段寄存器(Data Segment/DS)<blockquote>
<p>对ds的改变将会开始新的数据</p>
</blockquote>
</li>
</ul>
<p>&emsp;当处理器访问内存时，它把指令中指定的内存地址看成是段内的偏移地址(而不是物理地址)</p>
<h5 id="0x02-8086分段"><a href="#0x02-8086分段" class="headerlink" title="0x02 8086分段"></a>0x02 8086分段</h5><p>&emsp;8086有4个段寄存器<code>cs段寄存器，ds数据段寄存器，es(Extra Segment)附加段寄存器,ss栈段寄存器</code></p>
<blockquote>
<p>es段寄存器，当需要两个数据段寄存器的时候，es就会被使用。</p>
</blockquote>
<p>&emsp;IP(Instruction Pointer)寄存器，指令指针，和cs一起使用，只有处理器才可以访问，cs指向代码段起始地址，ip指向段内偏移地址，cs和ip共同形成逻辑地址，并由总线接口部件变成物理地址来取出指令，然后CPU根据当前指令长度来改变ip的值，指向下一条指令</p>
<p>&emsp;8086段寄存器和IP寄存器都是16位，因此它只能得到16为的地址，但是8086提供了20位地址线。8086<br>&emsp;8086 先将段地址左移4位(乘以16进制的10)，形成20位的段地址，然后在通16位的偏移地址相加。例如逻辑地址（F000H:052DH, 段地址偏移4位=f0000H，+ 052DH ====== F052DH）</p>
<blockquote>
<p>16位段地址总共有65536个不同的段，每个段正好16个字节，偏移地址从0000H-000FH, ,同样不允许重叠情况下，每个段最大内存位64KB，（0000H-FFFFH）， 段地址分别 0000H， 1000H，2000H， 。。。F000H）</p>
</blockquote>
<p>&emsp;偏移地址总是从0000H ,<br>&emsp;地址总是可以被十进制16给整除，起始地址都是16的倍数，这成为16字节对其。段划分是自由的，他可以在任何一个16字节对齐的位置，也可以是任何长度，只要不超过64KB，</p>

  </article>
</div>


    




</div>

<div class="footer-wrapper container">
  <footer class="footer clearfix">
    <div class="clearfix">
    <a href="https://3xpl0it3r.github.io" class="footer-logo">
      <i class="fa fa-github"></i>
    </a>
    <ul class="footer-social-link">
      <li>© 2019 John Doe</li>
      <li><a href="https://3xpl0it3r.github.io">Home</a></li>
      
    </ul>
    <div class="footer-theme-info">
      Theme <a target="_blank" rel="noopener" href="//github.com/sabrinaluo/hexo-theme-replica">Replica</a>
      by <a target="_blank" rel="noopener" href="//github.com/sabrinaluo">Hiitea</a> ❤ Powered by Hexo
    </div>
    </div>
    
  </footer>
</div>




<script src="/js/main.js"></script>

</body>
</html>
